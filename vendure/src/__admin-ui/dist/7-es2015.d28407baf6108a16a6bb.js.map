{"version":3,"sources":["webpack:///src/extensions/49400c65fb00406fad003af31f1699c50c22e0ce2c330aefd1c0a9f470d299d2/widgets/reviews-widget/reviews-widget.component.ts","webpack:///src/extensions/49400c65fb00406fad003af31f1699c50c22e0ce2c330aefd1c0a9f470d299d2/widgets/reviews-widget/reviews-widget.component.html"],"names":["ReviewsWidgetComponent","dataService","this","pendingReviews$","query","options","filter","state","eq","take","mapStream","data","productReviews","items","ReviewsWidgetModule"],"mappings":"2FACA,sN,wFCGQ,eACI,Q,eACJ,OACA,eAA8B,QAAuB,OACrD,eACI,gBACI,iBAA2B,QAAyB,OACxD,OACJ,OAEA,eAEI,4BACJ,OACA,gBAA8B,SAAoB,OAClD,gBACI,mCACJ,OACA,gBACI,kC,qBAKJ,Q,oBAvBI,yDAE0B,2BAGK,6BAMf,gCAEU,wBAEH,8BAKnB,gDAAmC,2BDZ5C,MAAMA,EAET,YAAoBC,GAAA,KAAAA,cAEpB,WACIC,KAAKC,gBAAkBD,KAAKD,YACvBG,MAAoD,IAAiB,CAClEC,QAAS,CACLC,OAAQ,CACJC,MAAO,CACHC,GAAI,QAGZC,KAAM,MAGbC,UAAUC,GAAQA,EAAKC,eAAeC,Q,sCAhBtCb,GAAsB,Y,uBAAtBA,EAAsB,gQCbnC,2B,gBAGI,8BA2BJ,Q,KA7BI,2C,kFDoCG,MAAMc,G,uBAAAA,I,oDAAAA,IAAmB,SAHnB,CAAC,KAAc","file":"x","sourcesContent":["import { ChangeDetectionStrategy, Component, NgModule, OnInit } from '@angular/core';\nimport { DataService, SharedModule } from '@vendure/admin-ui/core';\nimport { GetAllReviews } from '../../generated-types';\nimport { Observable } from 'rxjs';\nimport { GET_ALL_REVIEWS } from '../../components/all-product-reviews-list/all-product-reviews-list.graphql';\nimport { ReviewsSharedModule } from '../../reviews-shared.module';\n\n@Component({\n    selector: 'vdr-reviews-widget',\n    templateUrl: './reviews-widget.component.html',\n    styleUrls: ['./reviews-widget.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ReviewsWidgetComponent implements OnInit {\n    pendingReviews$: Observable<GetAllReviews.Items[]>;\n    constructor(private dataService: DataService) {}\n\n    ngOnInit() {\n        this.pendingReviews$ = this.dataService\n            .query<GetAllReviews.Query, GetAllReviews.Variables>(GET_ALL_REVIEWS, {\n                options: {\n                    filter: {\n                        state: {\n                            eq: 'new',\n                        },\n                    },\n                    take: 10,\n                },\n            })\n            .mapStream(data => data.productReviews.items);\n    }\n}\n\n@NgModule({\n    imports: [SharedModule, ReviewsSharedModule],\n    declarations: [ReviewsWidgetComponent],\n})\nexport class ReviewsWidgetModule {}\n","<vdr-data-table\n    [items]=\"pendingReviews$ | async\"\n>\n    <ng-template let-review=\"item\">\n        <td class=\"left align-middle\">\n            {{ review.createdAt | date:'mediumDate' }}\n        </td>\n        <td class=\"left align-middle\">{{ review.authorName }}</td>\n        <td class=\"left align-middle\">\n            <div class=\"product-info\">\n                <span class=\"product-name\">{{ review.product.name }}</span>\n            </div>\n        </td>\n\n        <td class=\"left align-middle\">\n\n            <kb-star-rating [rating]=\"review.rating\"></kb-star-rating>\n        </td>\n        <td class=\"left align-middle\">{{ review.summary }}</td>\n        <td class=\"left align-middle\">\n            <kb-review-state-label [state]=\"review.state\"></kb-review-state-label>\n        </td>\n        <td class=\"right align-middle\">\n            <vdr-table-row-action\n                iconShape=\"edit\"\n                [label]=\"'common.edit' | translate\"\n                [linkTo]=\"['/extensions', 'product-reviews', review.id]\"\n            ></vdr-table-row-action>\n        </td>\n    </ng-template>\n</vdr-data-table>\n\n"]}